//usr/local/bin/anch -std=c99 -keep -run "$0" "$@" ; exit 0

#include <stdio.h>
#include <errno.h>

int main  int argc, char** argv
    char buf[2048]
    FILE *f
    argc--
    setlocale  LC_CTYPE, ""
    if  strcmp(nl_langinfo(CODESET), "UTF-8")
        fprintf  stderr, "warning: utf-8 filenames not available\n"
    if  f=fopen(argv[argc],"r")
        fread  buf,1,2048,f
        printf  "%s\n", buf
    else
        sprintf  buf,"open '%s'",argv[argc]
        perror  buf
    
    return 0
